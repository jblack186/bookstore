{"ast":null,"code":"var _jsxFileName = \"/Users/jamie/Documents/bookstore/store/src/TopBar.js\";\nimport React, { useState, useEffect } from 'react';\nimport './TopBar.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBars, faShoppingCart, faSearch, faWindowClose } from '@fortawesome/free-solid-svg-icons';\nimport Selection from './img/Selection.png';\nimport axios from 'axios';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport { DropdownButton, SplitButton, Dropdown, ButtonGroup } from 'react-bootstrap';\n\nconst TopBar = props => {\n  const [isNavOpen, setIsNavOpen] = useState(false);\n  const [search, setSearch] = useState('');\n  const [apiKey, setApiKey] = useState(\"AIzaSyCnGiOUTd7RBgYr-c-_AzYRmg3fQjaVBO8\");\n  const [books, setBooks] = useState([]);\n  const [home, setHome] = useState();\n  const [name, setName] = useState('');\n  let history = useHistory();\n\n  const getUser = async () => {\n    try {\n      const res = await fetch(\"/choices\", {\n        method: \"GET\",\n        headers: {\n          jwt_token: localStorage.token\n        }\n      });\n      const parseRes = await res.json();\n      console.log(parseRes[0]);\n      let userName = parseRes[0].user_name;\n      let num = userName.indexOf(\" \");\n\n      if (num < 0) {\n        setName(parseRes[0].user_name);\n      } else {\n        var firstName = userName.slice(0, num);\n        setName(firstName);\n      }\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  useEffect(() => {\n    getUser();\n  }, []);\n  useEffect(() => {\n    setHome(props.homepage);\n  }, []);\n\n  const send = e => {\n    history.push('/filter');\n  };\n\n  const changeHandler = e => {\n    setSearch(e.target.value);\n  };\n\n  const openSlideMenu = () => {\n    setIsNavOpen(!isNavOpen);\n  };\n\n  const closeSlideMenu = () => {\n    setIsNavOpen(false);\n  };\n\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    window.location.reload();\n  };\n\n  const prefOne = e => {\n    console.log(e.target.id);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"top-bar-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav-blur-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav-blur-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: isNavOpen === true ? \"slide-nav\" : \"close-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, \"Log In\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/signIn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"a\", {\n    onClick: logout,\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"Sign Out\"))), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: closeSlideMenu,\n    className: \"blur\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"top-items-one\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    onClick: openSlideMenu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"fa fa-bars\",\n    icon: faBars,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"store-logo\",\n    src: Selection,\n    alt: \"store-logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 29\n    }\n  })), name.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 30\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 31\n    }\n  }, \"Signup\"))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 12\n    }\n  }, \"Hey there  \", name, \"!\"), /*#__PURE__*/React.createElement(\"a\", {\n    onClick: logout,\n    href: \"#m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 10\n    }\n  }, \"Logout\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"top-items-two\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, ['Secondary'].map(variant => /*#__PURE__*/React.createElement(SplitButton, {\n    key: variant,\n    id: `dropdown-split-variants-${variant}`,\n    variant: variant.toLowerCase(),\n    title: \"Preference 1\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    onClick: prefOne,\n    id: \"Fiction\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, \"Fiction\")), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    onClick: prefOne,\n    id: \"History\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }, \"History\")), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    onClick: prefOne,\n    id: \"Science\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, \"Science\")), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    onClick: prefOne,\n    id: \"Fantasy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }, \"Fantasy\")), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    onClick: prefOne,\n    id: \"Romance\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }, \"Romance\")), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    onClick: prefOne,\n    id: \"Fiction\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, \"Fiction\")), /*#__PURE__*/React.createElement(Dropdown.Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, \"Separated link\")))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }, ['Secondary'].map(variant => /*#__PURE__*/React.createElement(SplitButton, {\n    key: variant,\n    id: `dropdown-split-variants-${variant}`,\n    variant: variant.toLowerCase(),\n    title: \"Preference 2\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, \"Action\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, \"Another action\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"3\",\n    active: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, \"Active Item\"), /*#__PURE__*/React.createElement(Dropdown.Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }, \"Separated link\")))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }\n  }, ['Secondary'].map(variant => /*#__PURE__*/React.createElement(SplitButton, {\n    key: variant,\n    id: `dropdown-split-variants-${variant}`,\n    variant: variant.toLowerCase(),\n    title: \"Preference 3\",\n    size: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }, \"Action\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }, \"Another action\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"3\",\n    active: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }, \"Active Item\"), /*#__PURE__*/React.createElement(Dropdown.Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Dropdown.Item, {\n    eventKey: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }, \"Separated link\")))), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: send,\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: changeHandler,\n    className: \"input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/filtered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: send,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 31\n    }\n  }, \"GO\"))))));\n};\n\nexport default TopBar;","map":{"version":3,"sources":["/Users/jamie/Documents/bookstore/store/src/TopBar.js"],"names":["React","useState","useEffect","FontAwesomeIcon","faBars","faShoppingCart","faSearch","faWindowClose","Selection","axios","NavLink","useHistory","DropdownButton","SplitButton","Dropdown","ButtonGroup","TopBar","props","isNavOpen","setIsNavOpen","search","setSearch","apiKey","setApiKey","books","setBooks","home","setHome","name","setName","history","getUser","res","fetch","method","headers","jwt_token","localStorage","token","parseRes","json","console","log","userName","user_name","num","indexOf","firstName","slice","err","error","message","homepage","send","e","push","changeHandler","target","value","openSlideMenu","closeSlideMenu","logout","removeItem","window","location","reload","prefOne","id","length","map","variant","toLowerCase"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './TopBar.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBars, faShoppingCart, faSearch, faWindowClose } from '@fortawesome/free-solid-svg-icons';\nimport Selection from './img/Selection.png';\nimport axios from 'axios';\nimport {NavLink, useHistory} from 'react-router-dom';\nimport {DropdownButton, SplitButton, Dropdown, ButtonGroup} from 'react-bootstrap';\n\nconst TopBar = (props) => { \n  const [isNavOpen, setIsNavOpen] = useState(false);\n  const [search, setSearch] = useState('');\n  const [apiKey, setApiKey] = useState(\"AIzaSyCnGiOUTd7RBgYr-c-_AzYRmg3fQjaVBO8\");\n  const [books, setBooks] = useState([]);\n  const [home, setHome] = useState();\n  const [name, setName] = useState('');\n  let history = useHistory();\n\n  const getUser = async () => {\n    try {\n      const res = await fetch(\"/choices\", {\n        method: \"GET\",\n        headers: { jwt_token: localStorage.token }\n      });\n\n      const parseRes = await res.json();\n      console.log(parseRes[0])\n      let userName = parseRes[0].user_name;\n      let num = userName.indexOf(\" \");\n      if (num < 0) {\n        setName(parseRes[0].user_name)\n      } else {\n      var firstName = userName.slice(0, num);\n\n      setName(firstName)\n}\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  useEffect(() => {\n    getUser();\n  }, []);\n\n\n\n  useEffect(() => {\n    setHome(props.homepage)\n  }, [])\n\n  const send = (e) => {\n    history.push('/filter')\n  }\n\n\n  const changeHandler = (e) => {\n    setSearch(e.target.value)\n  }\n  \n\n  const openSlideMenu = () => {\n    setIsNavOpen(!isNavOpen);\n  }\n\n  const closeSlideMenu = () => {\n    setIsNavOpen(false);\n  }\n\n  const logout = () => {\n    localStorage.removeItem(\"token\")\n    window.location.reload();\n  }\n\n  const prefOne = e => {\n    console.log(e.target.id)\n  }\n\n  \n  return (\n    <div>\n    <div className='top-bar-container'>\n      <div className=\"nav-blur-container\">\n      <div className=\"nav-blur-flex\">\n      <ul className={isNavOpen === true ? \"slide-nav\" : \"close-nav\"}>\n        <div className='nav-list'>\n          <a href=\"/login\">Log In</a>\n          <a href=\"/signIn\">Sign Up</a>\n          <a onClick={logout} href=\"#\">Sign Out</a>\n        </div>\n      </ul>\n      <div onClick={closeSlideMenu} className=\"blur\">\n      </div>\n</div>\n\n      </div>\n      <div className='top-items-one'>\n      <a href=\"#\" onClick={openSlideMenu}>\n            <FontAwesomeIcon className=\"fa fa-bars\" icon={faBars} />\n        </a>\n\n        <NavLink to='/home'><img className='store-logo' src={Selection} alt='store-logo' /></NavLink>\n        { name.length === 0 ?\n        <div className='login'>\n        <NavLink to='/login'><a href=\"#m\">\n            Login\n        </a></NavLink>\n        <NavLink to='/signin'><a href=\"#\">\n            Signup\n        </a></NavLink>\n        </div>\n         : <div className='login'>\n           <p>Hey there  { name}!</p>\n         <a onClick={logout} href=\"#m\">\n            Logout\n        </a>\n        </div> }\n      </div>\n        \n      <div className='top-items-two'>\n      <div>\n          {['Secondary'].map(\n        (variant) => (\n          <SplitButton\n            key={variant}\n            id={`dropdown-split-variants-${variant}`}\n            variant={variant.toLowerCase()}\n            title='Preference 1'\n            size='sm'\n           \n          >\n            <Dropdown.Item eventKey=\"3\">\n              <p onClick={prefOne}  id='Fiction'  >Fiction</p>\n            </Dropdown.Item>\n            <Dropdown.Item eventKey=\"3\">\n              <p onClick={prefOne}  id='History'  >History</p>\n            </Dropdown.Item>\n            <Dropdown.Item eventKey=\"3\">\n              <p onClick={prefOne}  id='Science'  >Science</p>\n            </Dropdown.Item>\n            <Dropdown.Item eventKey=\"3\">\n              <p onClick={prefOne}  id='Fantasy'  >Fantasy</p>\n            </Dropdown.Item>\n            <Dropdown.Item eventKey=\"3\">\n              <p onClick={prefOne}  id='Romance'  >Romance</p>\n            </Dropdown.Item>\n            <Dropdown.Item eventKey=\"3\">\n              <p onClick={prefOne}  id='Fiction'  >Fiction</p>\n            </Dropdown.Item>\n\n            <Dropdown.Divider />\n            <Dropdown.Item eventKey=\"4\">Separated link</Dropdown.Item>\n          </SplitButton>\n        ),\n      )}\n      </div>   \n      <div>\n          {['Secondary'].map(\n        (variant) => (\n          <SplitButton\n            key={variant}\n            id={`dropdown-split-variants-${variant}`}\n            variant={variant.toLowerCase()}\n            title='Preference 2'\n            size='sm'\n\n          >\n            <Dropdown.Item eventKey=\"1\">Action</Dropdown.Item>\n            <Dropdown.Item eventKey=\"2\">Another action</Dropdown.Item>\n            <Dropdown.Item eventKey=\"3\" active>\n              Active Item\n            </Dropdown.Item>\n            <Dropdown.Divider />\n            <Dropdown.Item eventKey=\"4\">Separated link</Dropdown.Item>\n          </SplitButton>\n        ),\n      )}\n      </div>        \n      <div>\n          {['Secondary'].map(\n        (variant) => (\n          <SplitButton\n            key={variant}\n            id={`dropdown-split-variants-${variant}`}\n            variant={variant.toLowerCase()}\n            title='Preference 3'\n            size='sm'\n\n          >\n            <Dropdown.Item eventKey=\"1\">Action</Dropdown.Item>\n            <Dropdown.Item eventKey=\"2\">Another action</Dropdown.Item>\n            <Dropdown.Item eventKey=\"3\" active>\n              Active Item\n            </Dropdown.Item>\n            <Dropdown.Divider />\n            <Dropdown.Item eventKey=\"4\">Separated link</Dropdown.Item>\n          </SplitButton>\n        ),\n      )}\n      </div>        \n     \n  <form onSubmit={send} className='form'>\n      <input onChange={changeHandler} className='input' />\n      <NavLink to='/filtered'><button type='submit' onClick={send}>GO</button></NavLink>\n      </form>\n      </div>\n\n      </div>\n\n\n    </div>\n  )\n}\n\nexport default TopBar;\n"]},"metadata":{},"sourceType":"module"}