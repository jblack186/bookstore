{"ast":null,"code":"var _jsxFileName = \"/Users/jamie/Documents/bookstore/store/src/Login.js\";\nimport React, { useState } from 'react';\nimport './Signin.css';\nimport Pic from './img/signin-pic.jpg';\nimport Books from './img/bookonshelf .png';\nimport TopBar from './TopBar';\nimport Footer from './Footer';\nimport { toast } from \"react-toastify\";\nimport { useHistory } from 'react-router-dom';\n\nconst Login = () => {\n  const [inputs, setInputs] = useState({\n    email: \"\",\n    password: \"\",\n    name: \"\"\n  });\n  let history = useHistory();\n  const {\n    email,\n    password,\n    name\n  } = inputs;\n  console.log(email, name);\n\n  const onChange = e => setInputs({ ...inputs,\n    [e.target.name]: e.target.value\n  });\n\n  const onSubmitForm = async e => {\n    e.preventDefault();\n\n    try {\n      const body = {\n        email,\n        password,\n        name\n      };\n      const response = await fetch(\"auth/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      });\n      const parseRes = await response.json();\n\n      if (parseRes.jwtToken) {\n        localStorage.setItem(\"token\", parseRes.jwtToken);\n        toast.success(\"login Successful\");\n        history.push('/home');\n      } else {\n        toast.error(parseRes);\n      }\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TopBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"signin-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Pic,\n    alt: \"man-holding-book\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sign-img-contain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"book-logo-sign\",\n    src: Books,\n    alt: \"book-logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, \"The Online Library\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, \"Reading can give you superpowers. Learn, imagine, and escape with us. We can't wait for you to visit our library.\")), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"Welcome back. Ready for an adventure? Log in here.\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    value: email,\n    placeholder: \"email\",\n    onChange: e => onChange(e),\n    className: \"form-control my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: password,\n    placeholder: \"password\",\n    onChange: e => onChange(e),\n    className: \"form-control my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"Register\"))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/jamie/Documents/bookstore/store/src/Login.js"],"names":["React","useState","Pic","Books","TopBar","Footer","toast","useHistory","Login","inputs","setInputs","email","password","name","history","console","log","onChange","e","target","value","onSubmitForm","preventDefault","body","response","fetch","method","headers","JSON","stringify","parseRes","json","jwtToken","localStorage","setItem","success","push","error","err","message"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport './Signin.css';\nimport Pic from './img/signin-pic.jpg';\nimport Books from './img/bookonshelf .png';\nimport TopBar from './TopBar';\nimport Footer from './Footer';\nimport { toast } from \"react-toastify\";\nimport {useHistory} from 'react-router-dom';\n\nconst Login = () => {\n    const [inputs, setInputs] = useState({\n      email: \"\",\n      password: \"\",\n      name: \"\"\n    });\n    let history = useHistory();\n\n  const { email, password, name } = inputs;\n\n  console.log(email, name)\n\n  const onChange = e =>\n    setInputs({ ...inputs, [e.target.name]: e.target.value });\n\n    const onSubmitForm = async e => {\n      e.preventDefault();\n      try {\n        const body = { email, password, name };\n        const response = await fetch(\n          \"auth/login\",\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-type\": \"application/json\"\n            },\n            body: JSON.stringify(body)\n          }\n        );\n        const parseRes = await response.json();\n        if (parseRes.jwtToken) {\n          localStorage.setItem(\"token\", parseRes.jwtToken);\n          toast.success(\"login Successful\");\n          history.push('/home')\n\n          \n        } else {\n          toast.error(parseRes);\n        }\n      } catch (err) {\n        console.error(err.message);\n      }\n    };\n\n  return (\n    <div>\n      <TopBar />\n      <section className='signin-container'>\n        <img src={Pic} alt='man-holding-book' />\n        <div className='sign-img-contain'>\n          <img className='book-logo-sign' src={Books} alt='book-logo' /> \n          <h1>The Online Library</h1>\n          <p>Reading can give you superpowers. Learn, imagine, and escape with us. We can't wait for you to visit our library.</p>\n        </div>\n        <h3>Welcome back. Ready for an adventure? Log in here.</h3>\n        <form onSubmit={onSubmitForm}>\n          <input type=\"text\"\n          name=\"email\"\n          value={email}\n          placeholder=\"email\"\n          onChange={e => onChange(e)}\n          className=\"form-control my-3\"/>\n          <input type=\"password\"\n          name=\"password\"\n          value={password}\n          placeholder=\"password\"\n          onChange={e => onChange(e)}\n          className=\"form-control my-3\"/>\n          <button>Register</button>\n        </form>\n      </section>\n      <Footer />\n    </div>\n  )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}