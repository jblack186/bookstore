{"ast":null,"code":"var _jsxFileName = \"/Users/jamie/Documents/bookstore/store/src/img/CarouselHolder.js\";\nimport React, { useEffect, useCallback, useState } from 'react';\nimport './CardCarousel.css';\nimport axios from 'axios';\n\nconst CardCarousel = props => {\n  const [library, setLibrary] = useState([]);\n  const [books, setBooks] = useState([]);\n  const [result, setResult] = useState([]);\n  const [apiKey, setApiKey] = useState(\"AIzaSyCnGiOUTd7RBgYr-c-_AzYRmg3fQjaVBO8\");\n  useEffect(() => {\n    axios.get(`https://www.googleapis.com/books/v1/volumes?q=fiction&${apiKey}&maxResults=10`).then(res => {\n      console.log(res.data.items);\n      setBooks(res.data.items);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  console.log('books', books);\n  const [indexes, setIndexes] = useState({\n    previousIndex: 0,\n    currentIndex: 0,\n    nextIndex: 1\n  }); // useEffect(() => {\n  //   props.books.map(item => {\n  //    setLibrary(prevState => {\n  //      return {\n  //        ...prevState,\n  //        pic: item.volumeInfo.imageLinks.thumbnail\n  //      }\n  //    })\n  //   })\n  // }, [props])\n\n  console.log(library);\n  const cardItems = [{\n    id: 1,\n    title: 'Stacked Card Carousel',\n    copy: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus sit amet dui scelerisque, tempus dui non, blandit nulla. Etiam sed interdum est.'\n  }, {\n    id: 2,\n    title: 'Second Item',\n    copy: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.'\n  }, {\n    id: 3,\n    title: 'A Third Card',\n    copy: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus sit amet dui scelerisque, tempus dui non, blandit nulla.'\n  }, {\n    id: 4,\n    title: 'Fourth',\n    copy: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.'\n  }];\n\n  function determineClasses(indexes, cardIndex) {\n    if (indexes.currentIndex === cardIndex) {\n      return 'active';\n    } else if (indexes.nextIndex === cardIndex) {\n      return 'next';\n    } else if (indexes.previousIndex === cardIndex) {\n      return 'prev';\n    }\n\n    return 'inactive';\n  }\n\n  const handleCardTransition = useCallback(() => {\n    // If we've reached the end, start again from the first card,\n    // but carry previous value over\n    if (indexes.currentIndex >= cardItems.length - 1) {\n      setIndexes({\n        previousIndex: cardItems.length - 1,\n        currentIndex: 0,\n        nextIndex: 1\n      });\n    } else {\n      setIndexes(prevState => ({\n        previousIndex: prevState.currentIndex,\n        currentIndex: prevState.currentIndex + 1,\n        nextIndex: prevState.currentIndex + 2 === cardItems.length ? 0 : prevState.currentIndex + 2\n      }));\n    }\n  }, [indexes.currentIndex]);\n  useEffect(() => {\n    const transitionInterval = setInterval(() => {\n      handleCardTransition();\n    }, 4000); // The interval value could also be a prop\n    // Clear the interval when the component unmounts!\n\n    return () => clearInterval(transitionInterval);\n  }, [handleCardTransition, indexes]); // const CardCarousel = () => { ... }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  }, books.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: `card ${determineClasses(indexes, index)}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, \"Recommended for You\"), /*#__PURE__*/React.createElement(\"a\", {\n      href: item.volumeInfo.infoLink,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 18\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"img\", {\n      src: item.volumeInfo.imageLinks.thumbnail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 54\n      }\n    }))));\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"card-carousel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 5\n    }\n  }));\n};\n\nexport default CardCarousel;","map":{"version":3,"sources":["/Users/jamie/Documents/bookstore/store/src/img/CarouselHolder.js"],"names":["React","useEffect","useCallback","useState","axios","CardCarousel","props","library","setLibrary","books","setBooks","result","setResult","apiKey","setApiKey","get","then","res","console","log","data","items","catch","err","indexes","setIndexes","previousIndex","currentIndex","nextIndex","cardItems","id","title","copy","determineClasses","cardIndex","handleCardTransition","length","prevState","transitionInterval","setInterval","clearInterval","map","item","index","volumeInfo","infoLink","imageLinks","thumbnail"],"mappings":"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","sourcesContent":["import React, { useEffect, useCallback, useState } from 'react';\nimport './CardCarousel.css';\nimport axios from 'axios'\n\n\nconst CardCarousel = (props) => {\n  const [library, setLibrary] = useState([]);\n  const [books, setBooks] = useState([]);\n  const [result, setResult] = useState([]);\n  const [apiKey, setApiKey] = useState(\"AIzaSyCnGiOUTd7RBgYr-c-_AzYRmg3fQjaVBO8\");\n\n\n  useEffect(() => {\n    axios.get(`https://www.googleapis.com/books/v1/volumes?q=fiction&${apiKey}&maxResults=10`)\n      .then( res => {\n        console.log(res.data.items)\n        setBooks(res.data.items)\n\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }, [])\nconsole.log('books', books)\n\n  const [indexes, setIndexes] = useState({\n    previousIndex: 0,\n    currentIndex: 0,\n    nextIndex: 1,\n  });\n\n  // useEffect(() => {\n  //   props.books.map(item => {\n  //    setLibrary(prevState => {\n  //      return {\n  //        ...prevState,\n  //        pic: item.volumeInfo.imageLinks.thumbnail\n  //      }\n  //    })\n     \n  //   })\n  \n  // }, [props])\nconsole.log(library)\n  \n  const cardItems = [\n    {\n      id: 1,\n      title: 'Stacked Card Carousel',\n      copy: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus sit amet dui scelerisque, tempus dui non, blandit nulla. Etiam sed interdum est.',\n    },\n    {\n      id: 2,\n      title: 'Second Item',\n      copy: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',\n    },\n    {\n      id: 3,\n      title: 'A Third Card',\n      copy: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus sit amet dui scelerisque, tempus dui non, blandit nulla.',\n    },\n    {\n      id: 4,\n      title: 'Fourth',\n      copy: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',\n    },\n  ];\n\n  function determineClasses(indexes, cardIndex) {\n    if (indexes.currentIndex === cardIndex) {\n      return 'active';\n    } else if (indexes.nextIndex === cardIndex) {\n      return 'next';\n    } else if (indexes.previousIndex === cardIndex) {\n      return 'prev';\n    }\n    return 'inactive';\n  }\n\n  const handleCardTransition = useCallback(() => {\n    // If we've reached the end, start again from the first card,\n    // but carry previous value over\n    if (indexes.currentIndex >= cardItems.length - 1) {\n      setIndexes({\n        previousIndex: cardItems.length - 1,\n        currentIndex: 0,\n        nextIndex: 1,\n      });\n    } else {\n      setIndexes((prevState) => ({\n        previousIndex: prevState.currentIndex,\n        currentIndex: prevState.currentIndex + 1,\n        nextIndex: prevState.currentIndex + 2 === cardItems.length ? 0 : prevState.currentIndex + 2,\n      }));\n    }\n  }, [indexes.currentIndex]);\n\n  useEffect(() => {\n    const transitionInterval = setInterval(() => {\n      handleCardTransition();\n    }, 4000); // The interval value could also be a prop\n  \n    // Clear the interval when the component unmounts!\n    return () => clearInterval(transitionInterval);\n  }, [handleCardTransition, indexes]);\n  \n  // const CardCarousel = () => { ... }\n\n\treturn (\n    <div className=\"container\">\n      \n      {books.map((item, index) => {\n       \n      return <li className={`card ${determineClasses(indexes, index)}`}>\n             \n              <p>      \n                <h2>Recommended for You</h2>\n                 <a href={item.volumeInfo.infoLink}> <img  src={item.volumeInfo.imageLinks.thumbnail} />\n                 </a>\n                 </p>\n            </li >\n\n      }) }\n    {/* <button onClick={handleCardTransition}>Transition to Next</button> */}\n    <ul className=\"card-carousel\">\n    </ul>\n  </div>\n  );\n}\n\nexport default CardCarousel;"]},"metadata":{},"sourceType":"module"}