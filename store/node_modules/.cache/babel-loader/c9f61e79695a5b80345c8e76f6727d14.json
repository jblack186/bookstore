{"ast":null,"code":"var _jsxFileName = \"/Users/jamie/Documents/bookstore/store/src/TopBar.js\";\nimport React, { useState, useEffect } from 'react';\nimport './TopBar.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBars, faShoppingCart, faSearch, faWindowClose } from '@fortawesome/free-solid-svg-icons';\nimport Selection from './img/Selection.png';\nimport axios from 'axios';\nimport { NavLink, useHistory } from 'react-router-dom';\n\nconst TopBar = props => {\n  const [isNavOpen, setIsNavOpen] = useState(false);\n  const [search, setSearch] = useState('');\n  const [apiKey, setApiKey] = useState(\"AIzaSyCnGiOUTd7RBgYr-c-_AzYRmg3fQjaVBO8\");\n  const [books, setBooks] = useState([]);\n  const [home, setHome] = useState();\n  const [name, setName] = useState('');\n  let history = useHistory();\n\n  const getUser = async () => {\n    try {\n      const res = await fetch(\"http://localhost:5000/choices\", {\n        method: \"GET\",\n        headers: {\n          jwt_token: localStorage.token\n        }\n      });\n      const parseRes = await res.json();\n      console.log(parseRes[0].user_name);\n      localStorage.setItem(\"name\", parseRes[0].user_name);\n      setName(parseRes[0].user_name);\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  useEffect(() => {\n    getUser();\n  }, []);\n  useEffect(() => {\n    setHome(props.homepage);\n  }, []);\n\n  const send = e => {\n    history.push('/filter');\n  };\n\n  const changeHandler = e => {\n    setSearch(e.target.value);\n  };\n\n  const openSlideMenu = () => {\n    setIsNavOpen(!isNavOpen);\n  };\n\n  const closeSlideMenu = () => {\n    setIsNavOpen(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"top-bar-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav-blur-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav-blur-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: isNavOpen === true ? \"slide-nav\" : \"close-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Log In\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/signIn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"Sign Out\"))), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: closeSlideMenu,\n    className: \"blur\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"top-items-one\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    onClick: openSlideMenu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"fa fa-bars\",\n    icon: faBars,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"store-logo\",\n    src: Selection,\n    alt: \"store-logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 29\n    }\n  })), name.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 30\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 31\n    }\n  }, \"Signup\"))) : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 12\n    }\n  }, \"Welcome \", name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"top-items-two\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"top-item cart\",\n    icon: faShoppingCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: send,\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: changeHandler,\n    className: \"input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/filtered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: send,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 31\n    }\n  }, \"GO\"))))));\n};\n\nexport default TopBar;","map":{"version":3,"sources":["/Users/jamie/Documents/bookstore/store/src/TopBar.js"],"names":["React","useState","useEffect","FontAwesomeIcon","faBars","faShoppingCart","faSearch","faWindowClose","Selection","axios","NavLink","useHistory","TopBar","props","isNavOpen","setIsNavOpen","search","setSearch","apiKey","setApiKey","books","setBooks","home","setHome","name","setName","history","getUser","res","fetch","method","headers","jwt_token","localStorage","token","parseRes","json","console","log","user_name","setItem","err","error","message","homepage","send","e","push","changeHandler","target","value","openSlideMenu","closeSlideMenu","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './TopBar.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBars, faShoppingCart, faSearch, faWindowClose } from '@fortawesome/free-solid-svg-icons';\nimport Selection from './img/Selection.png';\nimport axios from 'axios';\nimport {NavLink, useHistory} from 'react-router-dom';\n\n\nconst TopBar = (props) => { \n  const [isNavOpen, setIsNavOpen] = useState(false);\n  const [search, setSearch] = useState('');\n  const [apiKey, setApiKey] = useState(\"AIzaSyCnGiOUTd7RBgYr-c-_AzYRmg3fQjaVBO8\");\n  const [books, setBooks] = useState([]);\n  const [home, setHome] = useState();\n  const [name, setName] = useState('');\n  let history = useHistory();\n\n  const getUser = async () => {\n    try {\n      const res = await fetch(\"http://localhost:5000/choices\", {\n        method: \"GET\",\n        headers: { jwt_token: localStorage.token }\n      });\n\n      const parseRes = await res.json();\n      console.log(parseRes[0].user_name)\n      localStorage.setItem(\"name\", parseRes[0].user_name)\n      setName(parseRes[0].user_name)\n\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  useEffect(() => {\n    getUser();\n  }, []);\n\n\n\n  useEffect(() => {\n    setHome(props.homepage)\n  }, [])\n\n  const send = (e) => {\n    history.push('/filter')\n  }\n\n\n  const changeHandler = (e) => {\n    setSearch(e.target.value)\n  }\n  \n\n  const openSlideMenu = () => {\n    setIsNavOpen(!isNavOpen);\n  }\n\n  const closeSlideMenu = () => {\n    setIsNavOpen(false);\n  }\n\n\n  \n  return (\n    <div>\n    <div className='top-bar-container'>\n      <div className=\"nav-blur-container\">\n      <div className=\"nav-blur-flex\">\n      <ul className={isNavOpen === true ? \"slide-nav\" : \"close-nav\"}>\n        <div className='nav-list'>\n          <a href=\"/login\">Log In</a>\n          <a href=\"/signIn\">Sign Up</a>\n          <a href=\"#\">Sign Out</a>\n        </div>\n      </ul>\n      <div onClick={closeSlideMenu} className=\"blur\">\n      </div>\n</div>\n\n      </div>\n      <div className='top-items-one'>\n      <a href=\"#\" onClick={openSlideMenu}>\n            <FontAwesomeIcon className=\"fa fa-bars\" icon={faBars} />\n        </a>\n\n        <NavLink to='/home'><img className='store-logo' src={Selection} alt='store-logo' /></NavLink>\n        { name.length === 0 ?\n        <div className='login'>\n        <NavLink to='/login'><a href=\"#m\">\n            Login\n        </a></NavLink>\n        <NavLink to='/signin'><a href=\"#\">\n            Signup\n        </a></NavLink>\n        </div>\n         : <p className='login'>Welcome {name}</p>\n          }\n      </div>\n        \n      <div className='top-items-two'>\n        <div className='cart'>\n          <FontAwesomeIcon className='top-item cart' icon={faShoppingCart} />\n        </div>\n        <form onSubmit={send} className='form'>\n      <input onChange={changeHandler} className='input' />\n      <NavLink to='/filtered'><button type='submit' onClick={send}>GO</button></NavLink>\n      </form>\n      </div>\n\n      </div>\n\n\n    </div>\n  )\n}\n\nexport default TopBar;\n"]},"metadata":{},"sourceType":"module"}